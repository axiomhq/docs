---
title: AxQL functions reference
description: This page explains all the functions you can use in AxQL.
---

AxQL is a purpose-built query language for metrics in Axiom. Unlike APL (Axiom Processing Language), which is used to query logs and traces, AxQL focuses on manipulating metrics data. This reference lists all available AxQL functions and operators, grouped by category.

## Summary of all functions

### Mapping

- `rate()`
- `min()`
- `max()`
- `abs()`
- `fill_prev()`
- `fill_const(VALUE)`

### Arithmetic

- `+`, `-`, `*`, `/`

### Aggregation

- `sum`, `avg`, `min`, `max`, `count`

### Alignment

- `align sum(...)`, etc.

### Grouping

- `group by ... using ...`

### Histogramming

- `histogram(...)`
- `interpolate_histogram(...)`

### Compute

- `compute name using ...`

### Replacement

- `replace TAG~s/.../.../`
- `replace A=B`
- `replace A=B~s/.../.../`

## Map functions

Map functions transform individual time series points.

| Function     | Syntax              | Description                                                  |
| ------------ | ------------------- | ------------------------------------------------------------ |
| `rate`       | `rate()`            | Computes the per-second rate of change for a counter metric. |
| `min`        | `min()`             | Returns the minimum value in the series.                     |
| `max`        | `max()`             | Returns the maximum value in the series.                     |
| `abs`        | `abs()`             | Returns the absolute value of each data point.               |
| `fill_prev`  | `fill_prev()`       | Fills missing values using the previous non-null value.      |
| `fill_const` | `fill_const(VALUE)` | Fills missing values with a constant.                        |

**Examples:**

```kusto
| map rate()
| map fill_const(0)
```

## Map evaluations

Map evaluations apply arithmetic operations to each data point.

| Operator       | Example    | Description                          |
| -------------- | ---------- | ------------------------------------ |
| `+`            | `map +2`   | Adds 2 to each value.                |
| `-`            | `map -5`   | Subtracts 5 from each value.         |
| `*`            | `map *1.5` | Multiplies each value by 1.5.        |
| `/`            | `map /10`  | Divides each value by 10.            |
| Comparison ops | `map >100` | Filters for values greater than 100. |

## Align functions

Align functions resample time series to fixed intervals.

| Function | Syntax                  | Description                           |
| -------- | ----------------------- | ------------------------------------- |
| `rate`   | `align rate(INTERVAL)`  | Calculates rate over aligned windows. |
| `avg`    | `align avg(INTERVAL)`   | Averages values in each interval.     |
| `sum`    | `align sum(INTERVAL)`   | Sums values in each interval.         |
| `min`    | `align min(INTERVAL)`   | Takes the minimum value per interval. |
| `max`    | `align max(INTERVAL)`   | Takes the maximum value per interval. |
| `count`  | `align count(INTERVAL)` | Counts non-null values per interval.  |

Optional dual-resolution syntax:

```kusto
align avg(1m,5s)
```

Specifies an outer alignment window (1 minute) with finer internal granularity (5 seconds).

## Group-by functions

Group metrics by tags and aggregate them.

| Function | Syntax                         | Description                            |
| -------- | ------------------------------ | -------------------------------------- |
| `sum`    | `group by tag1,tag2 using sum` | Groups by tag(s) and sums values.      |
| `avg`    | `group using avg`              | Groups all series and averages values. |
| `min`    | `group by host using min`      | Minimum value per group.               |
| `max`    | `group using max`              | Maximum value per group.               |
| `count`  | `group by service using count` | Counts series per group.               |

## Bucket-by functions

Bucket data over time using histogram or interpolation.

| Function                | Syntax                                                  | Description                                   |
| ----------------------- | ------------------------------------------------------- | --------------------------------------------- |
| `histogram`             | `bucket using histogram(INTERVAL, BINS...)`             | Buckets data into fixed-width bins.           |
| `interpolate_histogram` | `bucket using interpolate_histogram(INTERVAL, BINS...)` | Interpolates between points before bucketing. |

**Example:**

```kusto
| bucket by status using histogram(1m, 0, 10, 100)
```

## Replace functions

Modify tags or tag values using regex or renaming.

| Type                 | Syntax                       | Description                        |
| -------------------- | ---------------------------- | ---------------------------------- |
| Tag value replace    | `replace host~s/api/v1/api/` | Rewrites tag values using regex.   |
| Tag renaming         | `replace env=environment`    | Renames a tag.                     |
| Tag rename + replace | `replace name=name~s/_/-/`   | Combines renaming and replacement. |

## Compute functions

Combine multiple queries into a computed result.

| Function | Syntax                     | Description                       |
| -------- | -------------------------- | --------------------------------- |
| `+`      | `compute result using +`   | Adds query results.               |
| `-`      | `compute result using -`   | Subtracts one query from another. |
| `*`      | `compute result using *`   | Multiplies results.               |
| `/`      | `compute result using /`   | Divides one query by another.     |
| `min`    | `compute result using min` | Minimum across result series.     |
| `max`    | `compute result using max` | Maximum across result series.     |
| `avg`    | `compute result using avg` | Average across result series.     |

**Example:**

```kusto
{
  metric1:cpu.usage | map *100;
  metric2:cpu.limit
};
| compute usage_ratio using /
```

## Filter expressions

Use filters to restrict series by tag values or regex.

| Type  | Syntax                    |                           |
| ----- | ------------------------- | ------------------------- |
| Value | filter status == "500"\`  | Filters by equality.      |
| Regex | where host != /prod.\*/\` | Regex match or non-match. |

Operators:

- Equality: `==`, `!=`
- Comparisons: `<`, `<=`, `>`, `>=`
- Regex: `== /.../`, `!= /.../`

## Join

Join time series from another metric using shared tags.

**Syntax:**

```kusto
| join tag1,tag2 from metric:cpu.limit by tag1,tag2
```

Joins are tag-based and do not support arbitrary conditions.
