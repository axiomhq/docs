---
title: series_stats_dynamic
description: 'This page explains how to use the series_stats_dynamic function in APL.'
---

The `series_stats_dynamic` function computes comprehensive statistical measures for a numeric dynamic array (series), returning results in a flexible dynamic object format. It provides the same statistics as `series_stats` but with additional flexibility in accessing and manipulating the results.

You can use `series_stats_dynamic` when you need statistical summaries with more programmatic flexibility, custom processing of results, or when integrating with other dynamic data structures. This is particularly useful in complex analytical workflows where statistical outputs need further transformation or selective extraction.

## For users of other query languages

If you come from other query languages, this section explains how to adjust your existing queries to achieve the same results in APL.

<AccordionGroup>
<Accordion title="Splunk SPL users">

In Splunk SPL, you typically use multiple `stats` functions and store results as separate fields. In APL, `series_stats_dynamic` provides all statistics in a flexible dynamic object that you can manipulate programmatically.

<CodeGroup>
```sql Splunk example
... | stats min(value) as min_val, max(value) as max_val, 
    avg(value) as avg_val, stdev(value) as stdev_val by user
| eval stats_json="{min:" + min_val + ",max:" + max_val + "}"
```

```kusto APL equivalent
['sample-http-logs']
| summarize values = make_list(req_duration_ms) by id
| extend stats = series_stats_dynamic(values)
```
</CodeGroup>

</Accordion>
<Accordion title="ANSI SQL users">

In SQL, you calculate statistics separately and work with individual columns. In APL, `series_stats_dynamic` provides all statistics in a single dynamic object that you can query and transform.

<CodeGroup>
```sql SQL example
SELECT 
    JSON_OBJECT(
        'min', MIN(value),
        'max', MAX(value),
        'avg', AVG(value)
    ) as stats
FROM measurements
GROUP BY user_id;
```

```kusto APL equivalent
['sample-http-logs']
| summarize values = make_list(req_duration_ms) by id
| extend stats = series_stats_dynamic(values)
```
</CodeGroup>

</Accordion>
</AccordionGroup>

## Usage

### Syntax

```kusto
series_stats_dynamic(array)
```

### Parameters

| Parameter | Type    | Description                        |
| --------- | ------- | ---------------------------------- |
| `array`   | dynamic | A dynamic array of numeric values. |

### Returns

A dynamic object containing comprehensive statistical measures:
- `min`: Minimum value in the series
- `max`: Maximum value in the series
- `avg`: Average (mean) value
- `variance`: Variance of the values
- `stdev`: Standard deviation of the values

The dynamic format allows flexible access and manipulation of these statistics.

## Use case examples

<Tabs>
<Tab title="Log analysis">

In log analysis, you can use `series_stats_dynamic` to generate comprehensive statistical reports that can be easily formatted or filtered based on custom criteria.

**Query**

```kusto
['sample-http-logs']
| summarize durations = make_list(req_duration_ms) by id
| extend stats = series_stats_dynamic(durations)
| extend performance_score = 100 - (stats.stdev / stats.avg * 100)
| project id, stats, performance_score
| take 5
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/query?initForm=%7B%22apl%22%3A%22%5B'sample-http-logs'%5D%20%7C%20summarize%20durations%20%3D%20make_list(req_duration_ms)%20by%20id%20%7C%20extend%20stats%20%3D%20series_stats_dynamic(durations)%20%7C%20extend%20performance_score%20%3D%20100%20-%20(stats.stdev%20%2F%20stats.avg%20*%20100)%20%7C%20project%20id%2C%20stats%2C%20performance_score%20%7C%20take%205%22%7D)

**Output**

| id   | stats                                                        | performance_score |
| ---- | ------------------------------------------------------------ | ----------------- |
| u123 | `{min:15, max:245, avg:95, variance:2043, stdev:45.2}`       | 52.4              |
| u456 | `{min:8, max:189, avg:78, variance:1498, stdev:38.7}`        | 50.4              |

This query uses the dynamic statistics object to calculate a custom performance score based on the coefficient of variation (stdev/avg ratio).

</Tab>
<Tab title="OpenTelemetry traces">

In OpenTelemetry traces, you can use `series_stats_dynamic` to create flexible performance reports that highlight services with concerning variability.

**Query**

```kusto
['otel-demo-traces']
| extend duration_ms = duration / 1ms
| summarize durations = make_list(duration_ms) by ['service.name']
| extend stats = series_stats_dynamic(durations)
| extend variability_ratio = stats.stdev / stats.avg
| where variability_ratio > 0.5
| project ['service.name'], stats, variability_ratio
| take 5
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/query?initForm=%7B%22apl%22%3A%22%5B'otel-demo-traces'%5D%20%7C%20extend%20duration_ms%20%3D%20duration%20%2F%201ms%20%7C%20summarize%20durations%20%3D%20make_list(duration_ms)%20by%20%5B'service.name'%5D%20%7C%20extend%20stats%20%3D%20series_stats_dynamic(durations)%20%7C%20extend%20variability_ratio%20%3D%20stats.stdev%20%2F%20stats.avg%20%7C%20where%20variability_ratio%20%3E%200.5%20%7C%20project%20%5B'service.name'%5D%2C%20stats%2C%20variability_ratio%20%7C%20take%205%22%7D)

**Output**

| service.name | stats                                                         | variability_ratio |
| ------------ | ------------------------------------------------------------- | ----------------- |
| frontend     | `{min:15, max:850, avg:185, variance:15700, stdev:125.3}`     | 0.677             |
| checkout     | `{min:22, max:1200, avg:320, variance:60408, stdev:245.8}`    | 0.768             |

This query identifies services with high performance variability by computing the coefficient of variation from the dynamic statistics object.

</Tab>
<Tab title="Security logs">

In security logs, you can use `series_stats_dynamic` to build adaptive anomaly detection thresholds based on statistical properties of request patterns.

**Query**

```kusto
['sample-http-logs']
| summarize durations = make_list(req_duration_ms) by status
| extend stats = series_stats_dynamic(durations)
| extend lower_bound = stats.avg - (2 * stats.stdev)
| extend upper_bound = stats.avg + (2 * stats.stdev)
| extend range_ratio = (stats.max - stats.min) / stats.avg
| project status, stats, lower_bound, upper_bound, range_ratio
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/query?initForm=%7B%22apl%22%3A%22%5B'sample-http-logs'%5D%20%7C%20summarize%20durations%20%3D%20make_list(req_duration_ms)%20by%20status%20%7C%20extend%20stats%20%3D%20series_stats_dynamic(durations)%20%7C%20extend%20lower_bound%20%3D%20stats.avg%20-%20(2%20*%20stats.stdev)%20%7C%20extend%20upper_bound%20%3D%20stats.avg%20%2B%20(2%20*%20stats.stdev)%20%7C%20extend%20range_ratio%20%3D%20(stats.max%20-%20stats.min)%20%2F%20stats.avg%20%7C%20project%20status%2C%20stats%2C%20lower_bound%2C%20upper_bound%2C%20range_ratio%22%7D)

**Output**

| status | stats                                                | lower_bound | upper_bound | range_ratio |
| ------ | ---------------------------------------------------- | ----------- | ----------- | ----------- |
| 200    | `{min:5, max:340, avg:52, variance:156, stdev:12.5}` | 27          | 77          | 6.44        |
| 401    | `{min:45, max:8900, avg:450, variance:722840, stdev:850.2}` | -1250.4     | 2150.4      | 19.68       |

This query uses the dynamic statistics to calculate confidence intervals and assess the relative range of values for adaptive security monitoring.

</Tab>
</Tabs>

## List of related functions

- [series_stats](/apl/scalar-functions/time-series/series-stats): Returns the same statistics in a standard format. Use when you don't need the flexibility of dynamic objects.
- [series_max](/apl/scalar-functions/time-series/series-max): Returns only the maximum value. Use when you need just one statistic instead of the full set.
- [series_min](/apl/scalar-functions/time-series/series-min): Returns only the minimum value. Use when you need just one statistic instead of the full set.
- [todynamic](/apl/scalar-functions/conversion-functions/todynamic): Converts values to dynamic type. Use when constructing custom statistical objects.

