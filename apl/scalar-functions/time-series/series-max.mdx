---
title: series_max
description: 'This page explains how to use the series_max function in APL.'
---

The `series_max` function returns the maximum value from each numeric dynamic array (series). This function scans through all elements in the series and identifies the highest value present.

You can use `series_max` when you need to find peak values in time-series data. This is particularly useful for identifying maximum resource utilization, peak response times, highest transaction volumes, or other scenarios where you need to determine the upper bound of measurements across a series.

## For users of other query languages

If you come from other query languages, this section explains how to adjust your existing queries to achieve the same results in APL.

<AccordionGroup>
<Accordion title="Splunk SPL users">

In Splunk SPL, you typically use the `max()` function to find maximum values across multiple fields or events. In APL, `series_max` operates on dynamic arrays, returning the maximum value from each array in a single operation.

<CodeGroup>
```sql Splunk example
... | stats max(response_time) as peak_time by user
```

```kusto APL equivalent
['sample-http-logs']
| summarize times = make_list(req_duration_ms) by id
| extend peak_time = series_max(times)
```
</CodeGroup>

</Accordion>
<Accordion title="ANSI SQL users">

In SQL, you use the `MAX()` aggregate function to find the maximum value across rows. In APL, `series_max` operates on individual arrays, extracting the maximum value from each array element-wise.

<CodeGroup>
```sql SQL example
SELECT user_id, MAX(response_time) AS peak_time
FROM requests
GROUP BY user_id;
```

```kusto APL equivalent
['sample-http-logs']
| summarize times = make_list(req_duration_ms) by id
| extend peak_time = series_max(times)
```
</CodeGroup>

</Accordion>
</AccordionGroup>

## Usage

### Syntax

```kusto
series_max(array)
```

### Parameters

| Parameter | Type    | Description                        |
| --------- | ------- | ---------------------------------- |
| `array`   | dynamic | A dynamic array of numeric values. |

### Returns

A numeric scalar representing the maximum value in the input array.

## Use case examples

<Tabs>
<Tab title="Log analysis">

In log analysis, you can use `series_max` to identify the peak request duration for each user, helping you understand maximum response times experienced.

**Query**

```kusto
['sample-http-logs']
| summarize durations = make_list(req_duration_ms) by id
| extend peak_duration = series_max(durations)
| project id, peak_duration
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/query?initForm=%7B%22apl%22%3A%22%5B'sample-http-logs'%5D%20%7C%20summarize%20durations%20%3D%20make_list(req_duration_ms)%20by%20id%20%7C%20extend%20peak_duration%20%3D%20series_max(durations)%20%7C%20project%20id%2C%20peak_duration%22%7D)

**Output**

| id   | peak_duration |
| ---- | ------------- |
| u123 | 245           |
| u456 | 189           |

This query collects all request durations for each user and identifies the longest request duration, helping you spot potential performance issues.

</Tab>
<Tab title="OpenTelemetry traces">

In OpenTelemetry traces, you can use `series_max` to find the maximum span duration for each service, identifying potential bottlenecks.

**Query**

```kusto
['otel-demo-traces']
| extend duration_ms = duration / 1ms
| summarize durations = make_list(duration_ms) by ['service.name']
| extend max_duration = series_max(durations)
| project ['service.name'], max_duration
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/query?initForm=%7B%22apl%22%3A%22%5B'otel-demo-traces'%5D%20%7C%20extend%20duration_ms%20%3D%20duration%20%2F%201ms%20%7C%20summarize%20durations%20%3D%20make_list(duration_ms)%20by%20%5B'service.name'%5D%20%7C%20extend%20max_duration%20%3D%20series_max(durations)%20%7C%20project%20%5B'service.name'%5D%2C%20max_duration%22%7D)

**Output**

| service.name | max_duration |
| ------------ | ------------ |
| frontend     | 850          |
| checkout     | 1200         |

This query aggregates span durations per service and identifies the slowest span for each service, useful for performance optimization.

</Tab>
<Tab title="Security logs">

In security logs, you can use `series_max` to identify the longest request duration for each HTTP status code, helping detect potential security issues like slow authentication attempts.

**Query**

```kusto
['sample-http-logs']
| summarize durations = make_list(req_duration_ms) by status
| extend max_duration = series_max(durations)
| project status, max_duration
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/query?initForm=%7B%22apl%22%3A%22%5B'sample-http-logs'%5D%20%7C%20summarize%20durations%20%3D%20make_list(req_duration_ms)%20by%20status%20%7C%20extend%20max_duration%20%3D%20series_max(durations)%20%7C%20project%20status%2C%20max_duration%22%7D)

**Output**

| status | max_duration |
| ------ | ------------ |
| 200    | 340          |
| 401    | 8900         |
| 500    | 550          |

This query groups request durations by status code and finds the longest request for each, helping you identify suspicious patterns like unusually long authentication attempts.

</Tab>
</Tabs>

## List of related functions

- [series_min](/apl/scalar-functions/time-series/series-min): Returns the minimum value from a series. Use when you need the lowest value instead of the highest.
- [series_stats](/apl/scalar-functions/time-series/series-stats): Returns comprehensive statistics including min, max, average, and standard deviation. Use when you need multiple statistical measures.
- [series_stats_dynamic](/apl/scalar-functions/time-series/series-stats-dynamic): Returns statistics in a dynamic object format. Use when you need flexible statistical output.
- [series_sum](/apl/scalar-functions/time-series/series-sum): Returns the sum of all values in a series. Use when you need totals rather than maximum values.
- [max](/apl/aggregation-function/max): Aggregation function that returns the maximum value across grouped records. Use with `summarize` for aggregating, not for array operations.

