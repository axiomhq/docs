---
title: series_stats
description: 'This page explains how to use the series_stats function in APL.'
---

The `series_stats` function computes comprehensive statistical measures for a numeric dynamic array (series), returning multiple values including minimum, maximum, average, variance, and standard deviation.

You can use `series_stats` when you need a complete statistical summary of time-series data in a single operation. This is particularly useful for understanding data distribution, identifying outliers, calculating confidence intervals, or performing comprehensive data quality assessments without running multiple separate aggregations.

## For users of other query languages

If you come from other query languages, this section explains how to adjust your existing queries to achieve the same results in APL.

<AccordionGroup>
<Accordion title="Splunk SPL users">

In Splunk SPL, you typically use multiple `stats` functions to calculate different statistics. In APL, `series_stats` provides all common statistics in a single operation on array data.

<CodeGroup>
```sql Splunk example
... | stats min(value) as min_val, max(value) as max_val, 
    avg(value) as avg_val, stdev(value) as stdev_val by user
```

```kusto APL equivalent
['sample-http-logs']
| summarize values = make_list(req_duration_ms) by id
| extend stats = series_stats(values)
```
</CodeGroup>

</Accordion>
<Accordion title="ANSI SQL users">

In SQL, you calculate multiple aggregate functions separately. In APL, `series_stats` provides all these statistics in a single function call on array data.

<CodeGroup>
```sql SQL example
SELECT 
    MIN(value) as min_val,
    MAX(value) as max_val,
    AVG(value) as avg_val,
    STDDEV(value) as std_val
FROM measurements
GROUP BY user_id;
```

```kusto APL equivalent
['sample-http-logs']
| summarize values = make_list(req_duration_ms) by id
| extend stats = series_stats(values)
```
</CodeGroup>

</Accordion>
</AccordionGroup>

## Usage

### Syntax

```kusto
series_stats(array)
```

### Parameters

| Parameter | Type    | Description                        |
| --------- | ------- | ---------------------------------- |
| `array`   | dynamic | A dynamic array of numeric values. |

### Returns

A dynamic object containing the following statistical measures:
- `min`: Minimum value in the series
- `max`: Maximum value in the series
- `avg`: Average (mean) value
- `variance`: Variance of the values
- `stdev`: Standard deviation of the values

## Use case examples

<Tabs>
<Tab title="Log analysis">

In log analysis, you can use `series_stats` to get a comprehensive statistical summary of request durations for each user, helping identify performance patterns and outliers.

**Query**

```kusto
['sample-http-logs']
| summarize durations = make_list(req_duration_ms) by id
| extend statistics = series_stats(durations)
| project id, 
    min_duration = statistics.min,
    max_duration = statistics.max,
    avg_duration = statistics.avg,
    stdev_duration = statistics.stdev
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/query?initForm=%7B%22apl%22%3A%22%5B'sample-http-logs'%5D%20%7C%20summarize%20durations%20%3D%20make_list(req_duration_ms)%20by%20id%20%7C%20extend%20statistics%20%3D%20series_stats(durations)%20%7C%20project%20id%2C%20min_duration%20%3D%20statistics.min%2C%20max_duration%20%3D%20statistics.max%2C%20avg_duration%20%3D%20statistics.avg%2C%20stdev_duration%20%3D%20statistics.stdev%22%7D)

**Output**

| id   | min_duration | max_duration | avg_duration | stdev_duration |
| ---- | ------------ | ------------ | ------------ | -------------- |
| u123 | 15           | 245          | 95           | 45.2           |
| u456 | 8            | 189          | 78           | 38.7           |

This query calculates comprehensive statistics for each user's request durations, providing a complete performance profile in a single operation.

</Tab>
<Tab title="OpenTelemetry traces">

In OpenTelemetry traces, you can use `series_stats` to analyze span duration distribution for each service, identifying both typical performance and variability.

**Query**

```kusto
['otel-demo-traces']
| extend duration_ms = duration / 1ms
| summarize durations = make_list(duration_ms) by ['service.name']
| extend statistics = series_stats(durations)
| project ['service.name'],
    min_span = statistics.min,
    max_span = statistics.max,
    avg_span = statistics.avg,
    variability = statistics.stdev
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/query?initForm=%7B%22apl%22%3A%22%5B'otel-demo-traces'%5D%20%7C%20extend%20duration_ms%20%3D%20duration%20%2F%201ms%20%7C%20summarize%20durations%20%3D%20make_list(duration_ms)%20by%20%5B'service.name'%5D%20%7C%20extend%20statistics%20%3D%20series_stats(durations)%20%7C%20project%20%5B'service.name'%5D%2C%20min_span%20%3D%20statistics.min%2C%20max_span%20%3D%20statistics.max%2C%20avg_span%20%3D%20statistics.avg%2C%20variability%20%3D%20statistics.stdev%22%7D)

**Output**

| service.name | min_span | max_span | avg_span | variability |
| ------------ | -------- | -------- | -------- | ----------- |
| frontend     | 15       | 850      | 185      | 125.3       |
| checkout     | 22       | 1200     | 320      | 245.8       |

This query provides statistical analysis of span durations per service, helping identify both performance baselines and consistency.

</Tab>
<Tab title="Security logs">

In security logs, you can use `series_stats` to establish behavioral baselines and identify statistical anomalies in request patterns.

**Query**

```kusto
['sample-http-logs']
| summarize durations = make_list(req_duration_ms) by status
| extend statistics = series_stats(durations)
| project status,
    typical_duration = statistics.avg,
    max_observed = statistics.max,
    consistency = statistics.stdev
| extend anomaly_threshold = typical_duration + (3 * consistency)
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/query?initForm=%7B%22apl%22%3A%22%5B'sample-http-logs'%5D%20%7C%20summarize%20durations%20%3D%20make_list(req_duration_ms)%20by%20status%20%7C%20extend%20statistics%20%3D%20series_stats(durations)%20%7C%20project%20status%2C%20typical_duration%20%3D%20statistics.avg%2C%20max_observed%20%3D%20statistics.max%2C%20consistency%20%3D%20statistics.stdev%20%7C%20extend%20anomaly_threshold%20%3D%20typical_duration%20%2B%20(3%20*%20consistency)%22%7D)

**Output**

| status | typical_duration | max_observed | consistency | anomaly_threshold |
| ------ | ---------------- | ------------ | ----------- | ----------------- |
| 200    | 52               | 340          | 12.5        | 89.5              |
| 401    | 450              | 8900         | 850.2       | 3000.6            |
| 500    | 125              | 550          | 95.3        | 410.9             |

This query uses statistical analysis to establish normal behavior patterns and calculate anomaly detection thresholds based on standard deviations.

</Tab>
</Tabs>

## List of related functions

- [series_stats_dynamic](/apl/scalar-functions/time-series/series-stats-dynamic): Returns statistics in a more flexible dynamic format. Use when you need additional statistics or custom output structure.
- [series_max](/apl/scalar-functions/time-series/series-max): Returns only the maximum value. Use when you need just the maximum instead of full statistics.
- [series_min](/apl/scalar-functions/time-series/series-min): Returns only the minimum value. Use when you need just the minimum instead of full statistics.
- [avg](/apl/aggregation-function/avg): Aggregation function for calculating averages. Use with `summarize` for aggregating across rows instead of array elements.
- [stdev](/apl/aggregation-function/stdev): Aggregation function for standard deviation. Use with `summarize` for aggregating across rows instead of array elements.

