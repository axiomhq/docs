---
title: 'tolower'
description: 'This page explains how to use the tolower function in APL.'
---

The `tolower` function converts all characters in a string to lowercase. Use this function to normalize text for case-insensitive comparisons, standardize log data, or prepare strings for consistent analysis.

## For users of other query languages

If you come from other query languages, this section explains how to adjust your existing queries to achieve the same results in APL.

<AccordionGroup>
<Accordion title="Splunk SPL users">

In Splunk SPL, you use the `lower` function. APL's `tolower` provides the same functionality.

<CodeGroup>
```sql Splunk example
| eval lowercase=lower(field)
```

```kusto APL equivalent
['sample-http-logs']
| extend lowercase = tolower(field)
```
</CodeGroup>

</Accordion>
<Accordion title="ANSI SQL users">

In ANSI SQL, you use `LOWER` for lowercase conversion. APL's `tolower` provides the same functionality.

<CodeGroup>
```sql SQL example
SELECT LOWER(field) AS lowercase FROM logs;
```

```kusto APL equivalent
['sample-http-logs']
| extend lowercase = tolower(field)
```
</CodeGroup>

</Accordion>
</AccordionGroup>

## Usage

### Syntax

```kusto
tolower(value)
```

### Parameters

| Name | Type | Required | Description |
|------|------|----------|-------------|
| value | string | Yes | The input string to convert to lowercase. |

### Returns

Returns the input string with all characters converted to lowercase.

## Use case examples

<Tabs>
<Tab title="Log analysis">

Normalize HTTP methods for case-insensitive aggregation and analysis.

**Query**

```kusto
['sample-http-logs']
| extend normalized_method = tolower(method)
| summarize request_count = count() by normalized_method, status
| sort by request_count desc
| limit 10
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/query?initForm=%7B%22apl%22%3A%22%5B%27sample-http-logs%27%5D%20%7C%20extend%20normalized_method%20%3D%20tolower(method)%20%7C%20summarize%20request_count%20%3D%20count()%20by%20normalized_method%2C%20status%20%7C%20sort%20by%20request_count%20desc%20%7C%20limit%2010%22%7D)

**Output**

| normalized_method | status | request_count |
|-------------------|--------|---------------|
| get | 200 | 5432 |
| post | 201 | 2341 |
| get | 404 | 1987 |

This query normalizes HTTP methods to lowercase, ensuring that 'GET', 'Get', and 'get' are all counted together for accurate request analysis.

</Tab>
<Tab title="OpenTelemetry traces">

Standardize service names for consistent cross-service analysis.

**Query**

```kusto
['otel-demo-traces']
| extend normalized_service = tolower(['service.name'])
| summarize span_count = count(), avg_duration = avg(duration) by normalized_service
| sort by span_count desc
| limit 10
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/query?initForm=%7B%22apl%22%3A%22%5B%27otel-demo-traces%27%5D%20%7C%20extend%20normalized_service%20%3D%20tolower(%5B%27service.name%27%5D)%20%7C%20summarize%20span_count%20%3D%20count()%2C%20avg_duration%20%3D%20avg(duration)%20by%20normalized_service%20%7C%20sort%20by%20span_count%20desc%20%7C%20limit%2010%22%7D)

**Output**

| normalized_service | span_count | avg_duration |
|--------------------|------------|--------------|
| frontend | 4532 | 125ms |
| checkout | 3421 | 234ms |
| cart | 2987 | 89ms |

This query normalizes service names to lowercase, ensuring consistent grouping regardless of naming convention variations.

</Tab>
<Tab title="Security logs">

Perform case-insensitive threat detection in URIs and user identifiers.

**Query**

```kusto
['sample-http-logs']
| where status == '403' or status == '401'
| extend lower_uri = tolower(uri)
| extend has_sql = indexof(lower_uri, 'union') >= 0 or indexof(lower_uri, 'select') >= 0
| extend has_xss = indexof(lower_uri, '<script') >= 0 or indexof(lower_uri, 'alert(') >= 0
| where has_sql or has_xss
| project _time, uri, lower_uri, has_sql, has_xss, id, ['geo.country']
| limit 10
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/query?initForm=%7B%22apl%22%3A%22%5B%27sample-http-logs%27%5D%20%7C%20where%20status%20%3D%3D%20%27403%27%20or%20status%20%3D%3D%20%27401%27%20%7C%20extend%20lower_uri%20%3D%20tolower(uri)%20%7C%20extend%20has_sql%20%3D%20indexof(lower_uri%2C%20%27union%27)%20%3E%3D%200%20or%20indexof(lower_uri%2C%20%27select%27)%20%3E%3D%200%20%7C%20extend%20has_xss%20%3D%20indexof(lower_uri%2C%20%27%3Cscript%27)%20%3E%3D%200%20or%20indexof(lower_uri%2C%20%27alert(%27)%20%3E%3D%200%20%7C%20where%20has_sql%20or%20has_xss%20%7C%20project%20_time%2C%20uri%2C%20lower_uri%2C%20has_sql%2C%20has_xss%2C%20id%2C%20%5B%27geo.country%27%5D%20%7C%20limit%2010%22%7D)

**Output**

| _time | uri | lower_uri | has_sql | has_xss | id | geo.country |
|-------|-----|-----------|---------|---------|-------|-------------|
| 2024-11-06T10:00:00Z | /api?id=1 UNION SELECT | /api?id=1 union select | true | false | user123 | Unknown |
| 2024-11-06T10:01:00Z | /search?q=&lt;SCRIPT&gt;alert(1) | /search?q=&lt;script&gt;alert(1) | false | true | user456 | Russia |

This query converts URIs to lowercase before checking for attack patterns, ensuring detection regardless of case obfuscation attempts.

</Tab>
</Tabs>

## List of related functions

- [toupper](/apl/scalar-functions/string-functions/toupper): Converts strings to uppercase. Use this for the opposite transformation.
- [totitle](/apl/scalar-functions/string-functions/totitle): Converts strings to title case. Use this for capitalized word formatting.
- [strcmp](/apl/scalar-functions/string-functions/strcmp): Compares strings. Use tolower before strcmp for case-insensitive comparisons.
- [replace_string](/apl/scalar-functions/string-functions/replace-string): Replaces strings. Use tolower to normalize before replacements.

