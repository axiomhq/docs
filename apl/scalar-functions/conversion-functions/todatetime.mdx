---
title: todatetime
description: 'This page explains how to use the todatetime function in APL.'
---

Use the `todatetime` function to convert various data types to a datetime value. This is helpful when you need to normalize date and time values from different formats or sources into a standard datetime format for comparison, filtering, or time-based analysis.

You typically use `todatetime` when working with date strings, timestamps, or other time representations that need to be converted to datetime format for time-based operations.

## For users of other query languages

If you come from other query languages, this section explains how to adjust your existing queries to achieve the same results in APL.

<AccordionGroup>
<Accordion title="Splunk SPL users">

In Splunk, you use `strptime` or `strftime` functions to parse date strings, or `eval` with time functions. In APL, `todatetime` provides a direct conversion function that handles various date and time formats.

<CodeGroup>
```sql Splunk example
... | eval timestamp = strptime(date_field, "%Y-%m-%d %H:%M:%S")
```

```kusto APL equivalent
... | extend timestamp = todatetime(date_field)
```

</CodeGroup>

</Accordion>
<Accordion title="ANSI SQL users">

In standard SQL, you use `CAST(... AS DATETIME)` or `TO_DATE` functions to convert strings to datetime. In APL, `todatetime` provides a simpler way to convert various types to datetime values.

<CodeGroup>
```sql SQL example
SELECT CAST('2022-11-13' AS DATETIME) AS date_value FROM logs;
```

```kusto APL equivalent
['sample-http-logs']
| extend date_value = todatetime('2022-11-13')
```

</CodeGroup>

</Accordion>
</AccordionGroup>

## Usage

### Syntax

```kusto
todatetime(value)
```

### Parameters

| Name  | Type    | Description                        |
| ----- | ------- | ---------------------------------- |
| value | dynamic | The value to convert to datetime. |

### Returns

If the conversion is successful, the result is a datetime value. If the conversion isn't successful, the result is `null`.

## Use case examples

<Tabs>
<Tab title="Log analysis">

Convert date strings from log fields to datetime values for time-based filtering and analysis.

**Query**

```kusto
['sample-http-logs']
| extend log_date = todatetime('2024-06-24')
| extend is_recent = _time >= log_date
| where is_recent == true
| project _time, ['uri'], ['status'], log_date
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/query?initForm=%7B%22apl%22%3A%22%5B'sample-http-logs'%5D%20%7C%20extend%20log_date%20%3D%20todatetime('2024-06-24')%20%7C%20extend%20is_recent%20%3D%20_time%20%3E%3D%20log_date%20%7C%20where%20is_recent%20%3D%3D%20true%20%7C%20project%20_time%2C%20%5B'uri'%5D%2C%20%5B'status'%5D%2C%20log_date%22%7D)

**Output**

| _time | uri | status | log_date |
| ----- | --- | ------ | -------- |
| Jun 24, 09:28:10 | /api/users | 200 | 2024-06-24T00:00:00Z |

This example converts a date string to a datetime value and uses it for time-based comparisons, enabling precise date filtering in your queries.

</Tab>
<Tab title="OpenTelemetry traces">

Convert trace timestamps from string format to datetime values for time-based trace analysis.

**Query**

```kusto
['otel-demo-traces']
| extend start_date = todatetime('2024-06-24')
| extend trace_start = _time
| extend is_today = trace_start >= start_date
| where is_today == true
| project _time, ['trace_id'], ['service.name'], start_date, trace_start
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/query?initForm=%7B%22apl%22%3A%22%5B'otel-demo-traces'%5D%20%7C%20extend%20start_date%20%3D%20todatetime('2024-06-24')%20%7C%20extend%20trace_start%20%3D%20_time%20%7C%20extend%20is_today%20%3D%20trace_start%20%3E%3D%20start_date%20%7C%20where%20is_today%20%3D%3D%20true%20%7C%20project%20_time%2C%20%5B'trace_id'%5D%2C%20%5B'service.name'%5D%2C%20start_date%2C%20trace_start%22%7D)

**Output**

| _time | trace_id | service.name | start_date | trace_start |
| ----- | -------- | ------------ | ---------- | ----------- |
| Jun 24, 09:28:10 | abc123 | frontend | 2024-06-24T00:00:00Z | 2024-06-24T09:28:10Z |

This example converts date strings to datetime values for comparing trace timestamps, enabling time-based filtering of trace data.

</Tab>
<Tab title="Security logs">

Convert security event timestamps to datetime values for time-based security analysis and alerting.

**Query**

```kusto
['sample-http-logs']
| extend alert_start = todatetime('2024-06-24 09:00:00')
| extend alert_end = todatetime('2024-06-24 10:00:00')
| extend is_in_window = _time >= alert_start and _time <= alert_end
| where (['status'] == '401' or ['status'] == '403') and is_in_window == true
| project _time, ['uri'], ['status'], ['geo.country'], alert_start, alert_end
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/query?initForm=%7B%22apl%22%3A%22%5B'sample-http-logs'%5D%20%7C%20extend%20alert_start%20%3D%20todatetime('2024-06-24%2009%3A00%3A00')%20%7C%20extend%20alert_end%20%3D%20todatetime('2024-06-24%2010%3A00%3A00')%20%7C%20extend%20is_in_window%20%3D%20_time%20%3E%3D%20alert_start%20and%20_time%20%3C%3D%20alert_end%20%7C%20where%20(%5B'status'%5D%20%3D%3D%20'401'%20or%20%5B'status'%5D%20%3D%3D%20'403')%20and%20is_in_window%20%3D%3D%20true%20%7C%20project%20_time%2C%20%5B'uri'%5D%2C%20%5B'status'%5D%2C%20%5B'geo.country'%5D%2C%20alert_start%2C%20alert_end%22%7D)

**Output**

| _time | uri | status | geo.country | alert_start | alert_end |
| ----- | --- | ------ | ----------- | ----------- | --------- |
| Jun 24, 09:28:10 | /admin | 403 | US | 2024-06-24T09:00:00Z | 2024-06-24T10:00:00Z |

This example converts time strings to datetime values to define time windows for security event analysis, enabling precise time-based filtering of security logs.

</Tab>
</Tabs>

## List of related functions

- [totimespan](/apl/scalar-functions/conversion-functions/totimespan): Converts input to timespan. Use `totimespan` for duration values, and `todatetime` for absolute time points.Ã¥
