---
title: array_select_dict
description: 'This page explains how to use the array_select_dict function in APL.'
---

The `array_select_dict` function in Axiom Processing Language (APL) lets you extract specific key-value pairs from dictionaries within an array. You can use this function to simplify and focus your data analysis by filtering only the relevant parts of a dataset.

This function is useful when working with arrays of dictionaries in fields such as log analysis, OpenTelemetry traces, and security monitoring. By isolating the key-value pairs you care about, you can analyze data more efficiently.

## For users of other query languages

If you come from other query languages, this section explains how to adjust your existing queries to achieve the same results in APL.

<AccordionGroup>
<Accordion title="Splunk SPL users">

In Splunk SPL, similar functionality is achieved using `mvexpand` and `spath` commands. However, in APL, `array_select_dict` provides a more direct way to select specific key-value pairs.

<CodeGroup>
```sql Splunk example
| eval data=mvexpand(array_field)
| spath input=data key_to_extract
```

```kusto APL equivalent
['dataset.name']
| extend filtered_array=array_select_dict(array_field, dynamic(["key_to_extract"]))
```
</CodeGroup>

</Accordion>
<Accordion title="ANSI SQL users">

In ANSI SQL, you might need to use JSON functions to extract specific key-value pairs. APL simplifies this with `array_select_dict` for array processing.

<CodeGroup>
```sql SQL example
SELECT JSON_EXTRACT(array_field, '$.key_to_extract') AS filtered_array
FROM dataset
```

```kusto APL equivalent
['dataset.name']
| extend filtered_array=array_select_dict(array_field, dynamic(["key_to_extract"]))
```
</CodeGroup>

</Accordion>
</AccordionGroup>

## Usage

### Syntax

```kusto
array_select_dict(array, keys)
```

### Parameters

| Parameter  | Type            | Description                                       |
|------------|-----------------|---------------------------------------------------|
| `array`    | array of dicts  | The array of dictionaries to process.            |
| `keys`     | dynamic array   | The list of keys to extract from each dictionary. |

### Returns

An array of dictionaries containing only the specified key-value pairs from the input array.

## Use case example

Filter key details from span events in OpenTelemetry data.

**Query**

```kusto
['otel-demo-traces']
| extend span_details=array_select_dict(events, dynamic(["name", "attributes"]))
| project _time, span_id, span_details
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/explorer?initForm=%7B%22apl%22%3A%22%5B%27otel-demo-traces%27%5D%20%7C%20extend%20span_details%3Darray_select_dict%28events%2C%20dynamic%28%5B%27name%27%2C%20%27attributes%27%5D%29%29%20%7C%20project%20_time%2C%20span_id%2C%20span_details%22%7D)

**Output**

```
[{"name": "http.request", "attributes": {"path": "/api"}}]
```

The query filters specific details from span events for easier analysis.

## List of related functions

- [**array_filter**](/apl/array-functions/array_filter-function): Use this to filter elements in an array based on a condition.
- [**array_map**](/apl/array-functions/array_map-function): Use this to transform elements in an array.
- [**array_concat**](/apl/array-functions/array_concat-function): Use this to concatenate arrays.
- [**todynamic**](/apl/data-type-functions/todynamic-function): Convert JSON strings to dynamic objects for use in array operations.