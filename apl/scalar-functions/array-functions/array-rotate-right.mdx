---
title: array_rotate_right
description: 'This page explains how to use the array_rotate_right function in APL.'
---

## Introduction

The `array_rotate_right` function in APL allows you to rotate the elements of an array to the right by a specified number of positions. This function is useful when you need to reorder data within arrays, either to shift recent events to the beginning, reorder log entries, or realign elements based on specific processing logic.

## For users of other query languages

If you come from other query languages, this section explains how to adjust your existing queries to achieve the same results in APL.

<AccordionGroup>
<Accordion title="Splunk SPL users">

In APL, the `array_rotate_right` function provides functionality similar to the use of `mvindex` or specific SPL commands for reordering arrays. The rotation here shifts all elements by a set count to the right, maintaining their original order within the new positions.

<CodeGroup>
```sql Splunk example
| eval rotated_array=mvindex(array, -3)
```

```kusto APL equivalent
| extend rotated_array = array_rotate_right(array, 3)
```
</CodeGroup>

</Accordion>
<Accordion title="ANSI SQL users">

ANSI SQL lacks a direct function for rotating elements within arrays. In APL, the `array_rotate_right` function offers a straightforward way to accomplish this by specifying a rotation count, while SQL users typically require a more complex use of `CASE` statements or custom functions to achieve the same.

<CodeGroup>
```sql SQL example
-- No direct ANSI SQL equivalent for array rotation
```

```kusto APL equivalent
| extend rotated_array = array_rotate_right(array_column, 3)
```
</CodeGroup>

</Accordion>
</AccordionGroup>

## Usage

### Syntax

```kusto
array_rotate_right(array, count)
```

### Parameters

- `array`: An array to rotate.
- `count`: An integer specifying the number of positions to rotate the array to the right.

### Returns

An array where the elements are rotated to the right by the specified `count`.

## Use case examples

<Tabs>
<Tab title="Log analysis">

When analyzing log data, you might want to rotate an array of request durations to focus on the most recent request events in a reordered view.

**Query**

```kusto
['sample-http-logs']
| extend rotated_durations = array_rotate_right([req_duration_ms, id, status], 2)
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/explorer?initForm=%7B%22apl%22%3A%22%5B'sample-http-logs'%5D%20%7C%20extend%20rotated_durations%20%3D%20array_rotate_right%28%5Breq_duration_ms%2C%20id%2C%20status%5D%2C%202%29%22%7D)

**Output**

| rotated_durations               |
|---------------------------------|
| `[status, id, req_duration_ms]` |
| `[status, id, req_duration_ms]` |

This query rotates the array containing `req_duration_ms`, `id`, and `status` fields to the right by two positions, allowing for re-prioritization of log attributes.

</Tab>
<Tab title="OpenTelemetry traces">

In OpenTelemetry traces, rotating an array of span details can help you reorder trace information for performance tracking or troubleshooting.

**Query**

```kusto
['otel-demo-traces']
| extend rotated_trace_info = array_rotate_right([trace_id, service.name, duration], 1)
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/explorer?initForm=%7B%22apl%22%3A%22%5B'otel-demo-traces'%5D%20%7C%20extend%20rotated_trace_info%20%3D%20array_rotate_right%28%5Btrace_id%2C%20service.name%2C%20duration%5D%2C%201%29%22%7D)

**Output**

| rotated_trace_info                    |
|---------------------------------------|
| `[duration, trace_id, service.name]`  |
| `[duration, trace_id, service.name]`  |

This query shifts each trace entryâ€™s `trace_id`, `service.name`, and `duration` by one position, which could help to spotlight specific details in an analysis.

</Tab>
<Tab title="Security logs">

In security logs, rotating an array can highlight recent security events by bringing relevant fields to the beginning of the output.

**Query**

```kusto
['sample-http-logs']
| extend rotated_security_info = array_rotate_right([status, method, geo.country], 1)
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/explorer?initForm=%7B%22apl%22%3A%22%5B'sample-http-logs'%5D%20%7C%20extend%20rotated_security_info%20%3D%20array_rotate_right%28%5Bstatus%2C%20method%2C%20geo.country%5D%2C%201%29%22%7D)

**Output**

| rotated_security_info             |
|-----------------------------------|
| `[geo.country, status, method]`   |
| `[geo.country, status, method]`   |

This example rotates the array containing `status`, `method`, and `geo.country` by one position, so `geo.country` appears first for easier review of origin data in security logs.

</Tab>
</Tabs>

## List of related functions

- [**`array_rotate_left`**](/apl/array-functions/array_rotate_left-function): Rotates elements of an array to the left, which can be useful when you want the opposite effect of `array_rotate_right`.
- [**`array_length`**](/apl/array-functions/array_length-function): Returns the number of elements in an array, helpful for calculating rotation counts.
- [**`array_concat`**](/apl/array-functions/array_concat-function): Concatenates two arrays, allowing you to combine multiple arrays for subsequent rotation.
- [**`array_slice`**](/apl/array-functions/array_slice-function): Slices an array to return a subarray, which can complement rotations by extracting specific segments of an array.
- [**`array_reverse`**](/apl/array-functions/array_reverse-function): Reverses the elements of an array, useful in cases where you want a full reversal before or after applying rotation.