---
title: array_concat
description: 'This page explains how to use the array_concat function in APL.'
---

## Introduction

The `array_concat` function in APL (Axiom Processing Language) concatenates two or more arrays into a single array. Use this function when you need to merge multiple arrays into a single array structure. It’s particularly useful for situations where you need to handle and combine collections of elements across different fields or sources, such as log entries, OpenTelemetry trace data, or security logs.

## For users of other query languages

If you come from other query languages, this section explains how to adjust your existing queries to achieve the same results in APL.

<AccordionGroup>
<Accordion title="Splunk SPL users">

In SPL, you typically use the `mvappend` function to concatenate multiple fields or arrays into a single array. In APL, the equivalent is `array_concat`, which also combines arrays but requires you to specify each array as a parameter.

<CodeGroup>
```sql Splunk example
| eval combined_array = mvappend(array1, array2, array3)
```

```kusto APL equivalent
| extend combined_array = array_concat(array1, array2, array3)
```
</CodeGroup>

</Accordion>
<Accordion title="ANSI SQL users">

ANSI SQL doesn’t natively support an array concatenation function across different arrays. Instead, you typically use `UNION` to combine results from multiple arrays or collections. In APL, `array_concat` allows you to directly concatenate multiple arrays, providing a more straightforward approach.

<CodeGroup>
```sql SQL example
SELECT array1 UNION ALL array2 UNION ALL array3
```

```kusto APL equivalent
| extend combined_array = array_concat(array1, array2, array3)
```
</CodeGroup>

</Accordion>
</AccordionGroup>

## Usage

### Syntax

```kusto
array_concat(array1, array2, ...)
```

### Parameters

- `array1`: The first array to concatenate.
- `array2`: The second array to concatenate.
- `...`: Additional arrays to concatenate.

### Returns

An array containing all elements from the input arrays in the order they are provided.

## Use case examples

<Tabs>
<Tab title="Log analysis">

In log analysis, you can use `array_concat` to merge collections of user requests into a single array to analyze request patterns across different endpoints.

**Query**

```kusto
['sample-http-logs']
| summarize combined_requests = array_concat(makelist(uri), makelist(method))
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/explorer?initForm=%7B%22apl%22%3A%22%5B'sample-http-logs'%5D%20%7C%20summarize%20combined_requests%20%3D%20array_concat(makelist(uri)%2C%20makelist(method))%22%7D)

**Output**

| combined_requests         |
|---------------------------|
| ["/login", "/home", ...]  |

This example concatenates all `uri` and `method` values into a single array, allowing for combined analysis of access patterns and request methods in log data.

</Tab>
<Tab title="OpenTelemetry traces">

In OpenTelemetry traces, use `array_concat` to join span IDs and trace IDs for a comprehensive view of trace behavior across services.

**Query**

```kusto
['otel-demo-traces']
| summarize combined_ids = array_concat(makelist(span_id), makelist(trace_id))
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/explorer?initForm=%7B%22apl%22%3A%22%5B'otel-demo-traces'%5D%20%7C%20summarize%20combined_ids%20%3D%20array_concat(makelist(span_id)%2C%20makelist(trace_id))%22%7D)

**Output**

| combined_ids                            |
|-----------------------------------------|
| ["span1", "trace1", "span2", ...]       |

This example creates an array containing both `span_id` and `trace_id` values, offering a unified view of the trace journey across services.

</Tab>
<Tab title="Security logs">

In security logs, `array_concat` can consolidate multiple IP addresses or user IDs to detect potential attack patterns involving different locations or users.

**Query**

```kusto
['sample-http-logs']
| where status == '401'
| summarize failed_attempts = array_concat(makelist(id), makelist(geo.city))
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/explorer?initForm=%7B%22apl%22%3A%22%5B'sample-http-logs'%5D%20%7C%20where%20status%20%3D%3D%20'401'%20%7C%20summarize%20failed_attempts%20%3D%20array_concat(makelist(id)%2C%20makelist(geo.city))%22%7D)

**Output**

| failed_attempts                         |
|-----------------------------------------|
| ["user123", "London", "user456", ...]   |

This query combines failed user IDs and cities where the request originated, allowing security analysts to detect suspicious patterns or brute force attempts from different regions.

</Tab>
</Tabs>

## List of related functions

- [**`array_length`**](/apl/array-functions/array_length-function): Returns the number of elements in an array, useful for validating array size after concatenation.
- [**`array_indexof`**](/apl/array-functions/array_indexof-function): Finds the index of an element in an array, helpful when searching within concatenated arrays.
- [**`array_slice`**](/apl/array-functions/array_slice-function): Extracts a subset of elements from an array, allowing you to focus on specific parts of a concatenated array.
- [**`make_list`**](/apl/aggregation-functions/make_list-function): Aggregates values into an array, commonly used as input for `array_concat` to form arrays for concatenation.
- [**`set_union`**](/apl/set-functions/set_union-function): Merges arrays without duplicate values, a useful alternative to `array_concat` when duplicate elements are not desired.