---
title: rand
description: 'This page explains how to use the rand function in APL.'
---

Use the `rand` function in APL to generate pseudo-random numbers between 0 (inclusive) and 1 (exclusive). This function is useful when you want to introduce randomness into your queries—for example, to sample a subset of data, generate test data, or simulate probabilistic scenarios. 

Because `rand` returns a different value on each row, it’s especially helpful when you need to randomize the results of a table scan or perform probabilistic filtering. You can also pass a seed to the function for deterministic outputs, which is helpful for reproducibility.

## For users of other query languages

If you come from other query languages, this section explains how to adjust your existing queries to achieve the same results in APL.

<AccordionGroup>
<Accordion title="Splunk SPL users">

In Splunk SPL, the `random()` function returns a pseudo-random integer between 0 and 2^31-1. You often divide this value to produce a float between 0 and 1. In APL, the `rand()` function directly returns a float in the range `[0, 1)`, so there’s no need to divide or scale.

<CodeGroup>
```sql Splunk example
| eval r=random()/2147483647
````

```kusto APL equivalent
print r = rand()
```

</CodeGroup>

</Accordion>
<Accordion title="ANSI SQL users">

ANSI SQL uses the `RAND()` function to generate a float between 0 and 1. However, SQL typically doesn’t generate a new random value for every row unless you call `RAND()` inside a subquery or use it with a specific expression. In APL, `rand()` behaves like a row-level function and produces a new value for each row automatically.

<CodeGroup>
```sql SQL example
SELECT RAND() as r;
```

```kusto APL equivalent
print r = rand()
```

</CodeGroup>

</Accordion>
</AccordionGroup>

## Usage

### Syntax

```kusto
rand()
rand(seed)
```

### Parameters

| Name   | Type            | Description                                                                                       |
| ------ | --------------- | ------------------------------------------------------------------------------------------------- |
| `seed` | real (optional) | A number that initializes the random number generator. Use this if you want reproducible results. |

### Returns

A real number in the range `[0, 1)`. Each call returns a pseudo-random float. If a seed is specified, the sequence of random numbers is repeatable.

## Use case examples

<Tabs>
<Tab title="Log analysis">

You want to randomly sample a small percentage of your HTTP logs for quick inspection or dashboard prototyping.

**Query**

```kusto
['sample-http-logs']
| where rand() < 0.01
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/query?initForm=%7B%22apl%22%3A%22%5B'sample-http-logs'%5D%20%7C%20where%20rand%28%29%20%3C%200.01%22%7D)

**Output**

| _time               | id     | method | uri       | status | req_duration_ms | geo.city | geo.country |
| -------------------- | ------ | ------ | --------- | ------ | ----------------- | -------- | ----------- |
| 2024-07-10T14:32:00Z | abc123 | GET    | /api/user | 200    | 83                | Paris    | FR          |
| 2024-07-10T14:32:02Z | def456 | POST   | /api/cart | 500    | 157               | Berlin   | DE          |

This query returns approximately 1% of HTTP requests. It helps you explore log characteristics without scanning the full dataset.

</Tab>
<Tab title="OpenTelemetry traces">

You want to create a randomized sample of spans to visualize latency characteristics for different services.

**Query**

```kusto
['otel-demo-traces']
| where rand() < 0.005
| project _time, ['service.name'], duration, span_id, trace_id
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/query?initForm=%7B%22apl%22%3A%22%5B'otel-demo-traces'%5D%20%7C%20where%20rand%28%29%20%3C%200.005%20%7C%20project%20_time%2C%20%5B'service.name'%5D%2C%20duration%2C%20span_id%2C%20trace_id%22%7D)

**Output**

| _time               | ['service.name'] | duration         | span_id | trace_id |
| -------------------- | ----------------- | ---------------- | -------- | --------- |
| 2024-07-10T14:01:00Z | frontend          | 00:00:00.0123456 | abc123   | 1f2e...   |
| 2024-07-10T14:01:01Z | cartservice       | 00:00:00.0043210 | def456   | 2a3b...   |

This example shows how to take a 0.5% random sample of telemetry spans for distributed tracing analysis.

</Tab>
<Tab title="Security logs">

You want to test anomaly detection queries using randomly sampled HTTP traffic to avoid triggering alerts on real production data.

**Query**

```kusto
['sample-http-logs']
| where rand() < 0.001
| summarize count() by geo.country, status
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/query?initForm=%7B%22apl%22%3A%22%5B'sample-http-logs'%5D%20%7C%20where%20rand%28%29%20%3C%200.001%20%7C%20summarize%20count%28%29%20by%20geo.country%2C%20status%22%7D)

**Output**

| geo.country | status | count_ |
| ----------- | ------ | ------- |
| US          | 200    | 5       |
| FR          | 404    | 2       |

This query helps you simulate scenarios for alert tuning or training models on smaller, synthetic datasets.

</Tab>
</Tabs>

## List of related functions

- [rand_scalar](/apl/scalar-functions/rand_scalar): Similar to `rand` but usable in scalar context rather than row-wise evaluation.
- [sample](/apl/table-operators/sample): Use when you want to retrieve a fixed number or proportion of random rows from a dataset.
- [shuffle](/apl/array-functions/shuffle): Use to randomize the order of array elements.
- [range](/apl/rowset-functions/range): Use with `rand()` to generate synthetic datasets for testing or simulations.
- [new_guid](/apl/scalar-functions/new_guid): Use when you want a random UUID rather than a float.
