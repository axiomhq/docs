---
title: parse_apl
description: 'This page explains how to use the parse_apl function in APL.'
---

Use the `parse_apl` function in APL to parse an APL query string and convert it into a structured dynamic object representation. This allows you to inspect, analyze, and manipulate query structure programmatically.

You use `parse_apl` when you need to validate APL queries, extract query components for analysis, build query transformation tools, or implement query generation systems. This is particularly valuable for building APL-based automation, query validation pipelines, and programmatic query manipulation workflows.

## For users of other query languages

If you come from other query languages, this section explains how to adjust your existing queries to achieve the same results in APL.

<AccordionGroup>
<Accordion title="Splunk SPL users">

In Splunk SPL, there isnâ€™t a built-in function to parse queries into structured objects. You typically work with queries as strings. APL's `parse_apl` provides a way to understand query structure programmatically.

<CodeGroup>
```sql Splunk example
| eval query_string = "search index=main | stats count"
```

```kusto APL equivalent
['sample-http-logs']
| extend query_string = '["sample-http-logs"] | summarize count()'
| extend parsed_structure = parse_apl(query_string)
```
</CodeGroup>

</Accordion>
<Accordion title="ANSI SQL users">

In ANSI SQL, there isn't a standard function for parsing queries into structured representations. SQL parsers are typically external tools. APL's `parse_apl` brings query parsing directly into your data pipeline.

<CodeGroup>
```sql SQL example
-- External SQL parser typically required
SELECT query_text FROM query_log
```

```kusto APL equivalent
['sample-http-logs']
| extend query = '["sample-http-logs"] | where status == "200"'
| extend parsed = parse_apl(query)
```
</CodeGroup>

</Accordion>
</AccordionGroup>

## Usage

### Syntax

```kusto
parse_apl(apl_query)
```

### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| `apl_query` | `string` | The APL query string you want to parse into a structured representation. |

### Returns

A `dynamic` object representing the parsed structure of the APL query. This object contains the query's abstract syntax tree (AST), which you can inspect or manipulate programmatically.

## Use case examples

<Tabs>
<Tab title="Log analysis">

Use `parse_apl` to validate and analyze stored APL queries in query management systems.

**Query**

```kusto
['sample-http-logs']
| extend sample_query = '["sample-http-logs"] | summarize count() by status'
| extend parsed_query = parse_apl(sample_query)
| extend query_valid = isnotnull(parsed_query)
| project sample_query, query_valid, parsed_query
| take 1
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/query?initForm=%7B%22apl%22%3A%22%5B'sample-http-logs'%5D%20%7C%20extend%20sample_query%20%3D%20'%5B%22sample-http-logs%22%5D%20%7C%20summarize%20count()%20by%20status'%20%7C%20extend%20parsed_query%20%3D%20parse_apl(sample_query)%20%7C%20extend%20query_valid%20%3D%20isnotnull(parsed_query)%20%7C%20project%20sample_query%2C%20query_valid%2C%20parsed_query%20%7C%20take%201%22%7D)

**Output**

| sample_query                                               | query_valid | parsed_query         |
| ---------------------------------------------------------- | ----------- | -------------------- |
| ['sample-http-logs'] \| summarize count() by status        | true        | \{...AST structure...\} |

This query demonstrates parsing and validating APL queries, useful for query management and validation systems.

</Tab>
<Tab title="OpenTelemetry traces">

Use `parse_apl` to extract query structure for building query analytics dashboards.

**Query**

```kusto
['otel-demo-traces']
| extend trace_query = '["otel-demo-traces"] | where kind == "server" | summarize count()'
| extend parsed_trace_query = parse_apl(trace_query)
| extend has_where_clause = isnotnull(parsed_trace_query)
| project trace_query, has_where_clause
| take 1
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/query?initForm=%7B%22apl%22%3A%22%5B'otel-demo-traces'%5D%20%7C%20extend%20trace_query%20%3D%20'%5B%22otel-demo-traces%22%5D%20%7C%20where%20kind%20%3D%3D%20%22server%22%20%7C%20summarize%20count()'%20%7C%20extend%20parsed_trace_query%20%3D%20parse_apl(trace_query)%20%7C%20extend%20has_where_clause%20%3D%20isnotnull(parsed_trace_query)%20%7C%20project%20trace_query%2C%20has_where_clause%20%7C%20take%201%22%7D)

**Output**

| trace_query                                                                     | has_where_clause |
| ------------------------------------------------------------------------------- | ---------------- |
| ['otel-demo-traces'] \| where kind == 'server' \| summarize count()             | true             |

This query parses trace analysis queries to understand query patterns and complexity.

</Tab>
<Tab title="Security logs">

Use `parse_apl` to analyze security query patterns and validate query structures in automated security monitoring.

**Query**

```kusto
['sample-http-logs']
| extend security_query = '["sample-http-logs"] | where status == "401" | summarize attempts = count() by id'
| extend parsed_security = parse_apl(security_query)
| extend is_valid_query = isnotnull(parsed_security)
| project security_query, is_valid_query
| take 1
```

[Run in Playground](https://play.axiom.co/axiom-play-qf1k/query?initForm=%7B%22apl%22%3A%22%5B'sample-http-logs'%5D%20%7C%20extend%20security_query%20%3D%20'%5B%22sample-http-logs%22%5D%20%7C%20where%20status%20%3D%3D%20%22401%22%20%7C%20summarize%20attempts%20%3D%20count()%20by%20id'%20%7C%20extend%20parsed_security%20%3D%20parse_apl(security_query)%20%7C%20extend%20is_valid_query%20%3D%20isnotnull(parsed_security)%20%7C%20project%20security_query%2C%20is_valid_query%20%7C%20take%201%22%7D)

**Output**

| security_query                                                                                  | is_valid_query |
| ----------------------------------------------------------------------------------------------- | -------------- |
| ['sample-http-logs'] \| where status == '401' \| summarize attempts = count() by id             | true           |

This query validates security monitoring queries programmatically, ensuring query reliability in automated security systems.

</Tab>
</Tabs>

## List of related functions

- [format_apl](/apl/scalar-functions/sql-functions/format-apl): Use `format_apl` to convert parsed APL structures back into query strings. Use `parse_apl` to convert query strings into structures.
- [parse_sql](/apl/scalar-functions/sql-functions#parse-sql): Use `parse_sql` to parse SQL queries. Use `parse_apl` for APL queries.
- [parse_json](/apl/scalar-functions/string-functions#parse-json): Use `parse_json` to parse JSON strings into dynamic objects. Use `parse_apl` to parse APL query strings into query structures.
- [todynamic](/apl/scalar-functions/conversion-functions/todynamic): Use `todynamic` to convert JSON strings to dynamic objects. Use `parse_apl` specifically for parsing APL query syntax.

