---
title: parse_apl
description: 'This page explains how to use the parse_apl function in APL.'
---

Use the `parse_apl` function in APL to parse an APL query string and convert it into a structured dynamic object representation. This allows you to inspect, analyze, and manipulate query structure programmatically.

You use `parse_apl` when you need to validate APL queries, extract query components for analysis, build query transformation tools, or implement query generation systems. This is particularly valuable for building APL-based automation, query validation pipelines, and programmatic query manipulation workflows.

## Usage

### Syntax

```kusto
parse_apl(apl_query)
```

### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| `apl_query` | `string` | The APL query string you want to parse into a structured representation. |

### Returns

A dynamic object representing the parsed structure of the APL query. This object contains the queryâ€™s abstract syntax tree (AST), which you can inspect or manipulate programmatically.

## Use case examples

<Tabs>
<Tab title="Log analysis">

Use `parse_apl` to validate and analyze stored APL queries in query management systems.

**Query**

```kusto
['sample-http-logs']
| extend sample_query = '["sample-http-logs"] | summarize count() by status'
| extend parsed_query = parse_apl(sample_query)
| extend query_valid = isnotnull(parsed_query)
| project parsed_query
| take 1
```

**Output**

```json
{
  "body": {
    "source": {
      "kind": "Dataset",
      "name": {
        "kind": "Entity",
        "name": "sample-http-logs"
      },
      "wildcard": false
    },
    "kind": "TabularExpression",
    "operations": [
      {
        "groups": [
          {
            "kind": "NamedExpression",
            "expr": {
              "kind": "Entity",
              "name": "status"
            },
            "aliases": []
          }
        ],
        "aggs": [
          {
            "kind": "NamedExpression",
            "expr": {
              "kind": "CallExpr",
              "func": {
                "name": "count",
                "kind": "Entity"
              },
              "params": []
            },
            "aliases": []
          }
        ],
        "kind": "Summarize",
        "hints": []
      }
    ]
  },
  "kind": "Doc",
  "statements": []
}
```

This query demonstrates parsing and validating APL queries, useful for query management and validation systems.

</Tab>
<Tab title="OpenTelemetry traces">

Use `parse_apl` to extract query structure for building query analytics dashboards.

**Query**

```kusto
['otel-demo-traces']
| extend trace_query = '["otel-demo-traces"] | where kind == "server" | summarize count()'
| extend parsed_trace_query = parse_apl(trace_query)
| extend has_where_clause = isnotnull(parsed_trace_query)
| project parsed_trace_query
| take 1
```

**Output**

```json
{
  "kind": "Doc",
  "statements": [],
  "body": {
    "kind": "TabularExpression",
    "operations": [
      {
        "predicate": {
          "left": {
            "name": "kind",
            "kind": "Entity"
          },
          "kind": "BinaryExpr",
          "right": {
            "value": "server",
            "raw": false,
            "quote": "\"",
            "kind": "String",
            "hidden": false
          },
          "op": "=="
        },
        "kind": "Where"
      },
      {
        "kind": "Summarize",
        "hints": [],
        "groups": [],
        "aggs": [
          {
            "kind": "NamedExpression",
            "expr": {
              "params": [],
              "kind": "CallExpr",
              "func": {
                "kind": "Entity",
                "name": "count"
              }
            },
            "aliases": []
          }
        ]
      }
    ],
    "source": {
      "wildcard": false,
      "kind": "Dataset",
      "name": {
        "kind": "Entity",
        "name": "otel-demo-traces"
      }
    }
  }
}
```

This query parses trace analysis queries to understand query patterns and complexity.

</Tab>
<Tab title="Security logs">

Use `parse_apl` to analyze security query patterns and validate query structures in automated security monitoring.

**Query**

```kusto
['sample-http-logs']
| extend security_query = '["sample-http-logs"] | where status == "401" | summarize attempts = count() by id'
| extend parsed_security = parse_apl(security_query)
| extend is_valid_query = isnotnull(parsed_security)
| project parsed_security
| take 1
```

**Output**

```json
{
  "body": {
    "kind": "TabularExpression",
    "operations": [
      {
        "predicate": {
          "right": {
            "quote": "\"",
            "kind": "String",
            "hidden": false,
            "value": "401",
            "raw": false
          },
          "op": "==",
          "left": {
            "kind": "Entity",
            "name": "status"
          },
          "kind": "BinaryExpr"
        },
        "kind": "Where"
      },
      {
        "hints": [],
        "groups": [
          {
            "expr": {
              "name": "id",
              "kind": "Entity"
            },
            "aliases": [],
            "kind": "NamedExpression"
          }
        ],
        "aggs": [
          {
            "aliases": [
              {
                "name": "attempts",
                "kind": "Entity"
              }
            ],
            "kind": "NamedExpression",
            "expr": {
              "params": [],
              "kind": "CallExpr",
              "func": {
                "name": "count",
                "kind": "Entity"
              }
            }
          }
        ],
        "kind": "Summarize"
      }
    ],
    "source": {
      "kind": "Dataset",
      "name": {
        "kind": "Entity",
        "name": "sample-http-logs"
      },
      "wildcard": false
    }
  },
  "kind": "Doc",
  "statements": []
}
```

This query validates security monitoring queries programmatically, ensuring query reliability in automated security systems.

</Tab>
</Tabs>

## List of related functions

- [format_apl](/apl/scalar-functions/sql-functions/format-apl): Use `format_apl` to convert parsed APL structures back into query strings. Use `parse_apl` to convert query strings into structures.
- [parse_sql](/apl/scalar-functions/sql-functions#parse-sql): Use `parse_sql` to parse SQL queries. Use `parse_apl` for APL queries.
- [parse_json](/apl/scalar-functions/string-functions#parse-json): Use `parse_json` to parse JSON strings into dynamic objects. Use `parse_apl` to parse APL query strings into query structures.
- [todynamic](/apl/scalar-functions/conversion-functions/todynamic): Use `todynamic` to convert JSON strings to dynamic objects. Use `parse_apl` specifically for parsing APL query syntax.

